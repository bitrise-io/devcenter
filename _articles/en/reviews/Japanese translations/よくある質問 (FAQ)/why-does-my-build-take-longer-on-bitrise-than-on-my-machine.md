---
published_at:
last_modified_at:
tag: []
title: 私のマシンでのビルドよりBitriseでのビルド時間のほうが長いのはどうしてですか？ (Why does my build take longer on
  Bitrise than on my machine?)
redirect_from: []
description: ''
published: false

---
ビルド時間が思った以上に長くかかってしまう場合、このガイドを参照してください！まず、ビルド内のどのステップで時間がかかっているのか見ていきます。

* もし依存のステップ (例: Cocoapods Install) に時間がかかっている場合、[ビルドキャッシュ](/jp/caching/about-caching/)を使ってスピードアップを図りましょう。また、ネットワーク通信やサードパーティ製ウェブサービスを使用するステップを使用していても同様で、一時的に利用不可になったり、需要が高いがゆえに遅くなる可能性があります。
* もし長いビルド時間が、仮想マシンでのみ計算を実行していて、外部サービスにアクセスしないArchiveまたはTestステップと関連性がある場合、引き続きこのガイドを読んでください - 可能性のある理由を説明していきます。

## ローカルビルドキャッシュ

みなさんの使うツール (例:Xcode) のほとんどは、その次のビルドのスピードアップを実現させるため、多くのローカルビルドキャッシュ (local build cache) を実行します。このようなキャッシュはMac/PC上でのビルド時間を削減するのに役立ちますが、[bitrise.io](https://www.bitrise.io)では使用になることはできません。

{% include message_box.html type="note" title="Bitriseでのローカルキャッシュのテスト" content="同じステップ (例: `Xcode Archive & Export for iOS`) をビルド中に2回実行することで、どのくらいローカルキャッシュでビルド時間が短縮されるのかをテストすることができます。Xcodeが生成するローカルビルドキャッシュにより、2回目のほうが1回目よりも格段に速くなります。"%}

[bitrise.io](https://www.bitrise.io)では全てのビルドはクリーンな仮想マシンで実行されます。ビルド終了後は、仮想マシンはファイルが保存されることなく破壊されます。そして次のビルドが開始されるとまた新たにクリーンな仮想マシンで実行されます。

**ローカルビルドキャッシュの不足はプロジェクトの信頼性を向上させます**が、ビルドプロセスを遅くさせます。ではなぜローカルビルドキャッシュは重要なのでしょうか。ローカルビルドキャッシュ内にはバージョン管理下にないファイルがある可能性があります。これは、もしプロジェクトのgit cloneを実行する場合、これらのファイルは含まれないので、ビルドが失敗してしまいます。

この問題は、ご自身で指定した (バージョン管理下にあり、再生可能である) コードと依存のみが使用可能な[bitrise.io](https://www.bitrise.io)で、クリーンな仮想マシンを使用することで解消されます。もしこの方法が機能する場合は、新品のMac/PCでも実行できます。例えば、新しくチームにメンバーが加わった時、そのメンバーはすぐにプロジェクトを開始することができます。

## ネットワークリソース

プロジェクトがインターネットから取り出す必要のある依存を要求する場合、ビルドプロセスに時間が追加されます。

例えば、MacでiOSプロジェクトをビルドする上でCocoaPodsを使用する場合、通常`pod install`を実行する必要はなく、それはCocoaPodsの依存リストが変更するときだけ使用します。もしPodsをご自身のレポジトリにコミットしない場合、この(必要な依存のダウンロードを行うための)プロセスは全てのビルドがクリーンな環境で実行される必要があります。

解決策:

* レポジトリに依存をコミットする - こちらを参照してください: [レポジトリに依存をコミットしたほうがいいですか？](/jp/faq/should-i-commit-my-dependencies-into-my-repository/)
* Bitrise Build Cacheに依存をキャッシュする - こちらを参照してください: [キャッシュについて](/jp/caching/about-caching)

## Raw performance

Bitriseはビルドインフラのパフォーマンス全体を向上するよう日々努めていますが、よりパワフルなハードウェアをお求めの方がほとんどだと思います。

クラウド環境は再生可能なビルド環境を提供しますが、仮想化 (virtualization) には仮想マシンやビルド環境に露出されるリソースの上に追加のリソースが必要になります。

これはご自身のMac/PCで試していただけます: Mac/PCで直接同じコンパイレーションを実行すると仮想マシンよりも高速で行うことができます。

パフォーマンス向上に最善を尽くしておりますが、何か提案していただけるのであればお気軽にお問い合わせください！

## ビルド時間最適化のためのヒントとコツ

ビルド時間最適化については[こちら](/jp/tips-and-tricks/optimize-your-build-times)のガイドをご覧ください。